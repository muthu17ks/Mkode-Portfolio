/* ==========================================================
   1. Design Tokens, Variables & Themes
   ========================================================== */
:root {
  /* --- BASE COLORS (HSL Values) --- */
  --p-h: 217; --p-s: 91%; --p-l: 60%;
  --s-h: 260; --s-s: 85%; --s-l: 65%;
  --t-h: 160; --t-s: 84%; --t-l: 39%;
  --n-h: 215; --n-s: 20%; --n-l: 95%;

  /* --- SECTION BACKGROUND VARIANTS (Light Mode) --- */
  --bg-sect-1: hsl(var(--n-h), var(--n-s), 98%);
  --bg-sect-2: hsl(var(--n-h), var(--n-s), 93%);
  --bg-sect-3: hsl(var(--n-h), var(--n-s), 90%);
  --bg-sect-4: hsl(var(--n-h), var(--n-s), 88%);

  /* --- BUTTON INTERACTION TOKENS --- */
  --btn-hover-scale: 1.08;
  --btn-active-scale: 0.96;
  --btn-hover-bg: hsl(var(--p-h), var(--p-s), calc(var(--p-l) + 6%));
  --btn-active-bg: hsl(var(--p-h), var(--p-s), calc(var(--p-l) - 8%));
  --btn-hover-shadow: 0 10px 28px hsla(var(--p-h), var(--p-s), 50%, 0.35);
  --btn-active-shadow: inset 0 3px 8px hsla(var(--p-h), var(--p-s), 30%, 0.45);

  /* --- FONTS & SPACING --- */
  --font-primary: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-mono: monospace;
  --font-weight-regular: 400; --font-weight-med: 500; --font-weight-bold: 600; --font-weight-heavy: 700;

  --font-size-xs: 12px; --font-size-sm: 13px; --font-size-base: 15px;
  --font-size-md: 17px; --font-size-lg: 20px; --font-size-xl: 24px;
  --font-size-2xl: 28px; --font-size-3xl: 40px;

  --space-4: 4px; --space-8: 8px; --space-12: 12px; --space-16: 16px;
  --space-24: 24px; --space-32: 32px; --space-40: 40px; --space-48: 48px;
  --space-64: 64px; --space-80: 80px; --space-96: 96px;

  --nav-height: 64px; --container-max: 1280px; --tech-panel-width: 100%;
  --section-padding-block: 64px; --section-padding-inline: 20px;
  --line-height-tight: 1.2; --line-height-base: 1.6;
  --radius-pill: 999px; --radius-card: 24px; --radius-sm: 8px; --radius-md: 16px;

  --ease-default: cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --duration-fast: 0.2s; --duration-med: 0.3s; --duration-slow: 0.5s;
  --bezier-bounce: cubic-bezier(0.2, 0.8, 0.2, 1);
  --bezier-smooth: cubic-bezier(0.25, 1, 0.5, 1);

  --z-negative: -1; --z-footer: 10; --z-back-to-top: 900; --z-navbar: 1000;
  --z-cursor: 9999; --z-toast: 20000; --z-preloader: 99999;
  --size-icon: 24px; --size-logo: 24px; --size-btn-icon: 40px;
  --blur-md: blur(24px) saturate(180%);
  --blur-lg: blur(40px) saturate(160%);
  --backdrop-mask: linear-gradient(to bottom, black 0%, rgba(0,0,0,0.85) 60%, transparent 100%);

  /* --- GLOBAL COLORS --- */
  --color-bg: hsl(var(--n-h), var(--n-s), var(--n-l));
  --color-surface: hsl(var(--n-h), 20%, 98%);

  --about-bg: var(--bg-sect-1);
  --about-card-bg: hsl(var(--n-h), 15%, 93%);

  --color-text: hsl(var(--n-h), 40%, 10%);
  --about-text-muted: hsl(var(--n-h), 20%, 40%);
  --color-border: hsla(var(--n-h), 15%, 75%, 0.4);
  --color-btn-bg: hsl(var(--p-h), var(--p-s), var(--p-l));

  /* DEFAULT BUTTON TEXT COLOR (Overridden by JS if needed) */
  --color-btn-text: #ffffff;

  --color-glow: hsla(var(--p-h), var(--p-s), 50%, 0.25);
  --color-shadow-nav: hsla(var(--p-h), 30%, 50%, 0.15);
  --color-shadow-mobile: hsla(var(--n-h), 20%, 50%, 0.1);
  --shadow-btn: 0 4px 12px hsla(var(--p-h), var(--p-s), 50%, 0.2);
  --about-status-dot: hsl(var(--t-h), var(--t-s), 45%);
  --about-shadow-card: 0 8px 32px hsla(var(--n-h), 20%, 50%, 0.08);
  --ring-color-bg: hsla(var(--p-h), 30%, 20%, 0.1);
  --ring-color-border: hsla(var(--p-h), 40%, 20%, 0.8);
  --color-scrollbar-thumb: hsl(var(--n-h), 10%, 70%);
  --color-scrollbar-track: transparent;
  --color-nav-hover-bg: hsla(var(--n-h), 10%, 90%, 0.8);
  --color-nav-hover-text: var(--color-text);
  --color-cursor-dot: hsl(var(--p-h), var(--p-s), 40%);
  --color-cursor-ring-bg: transparent;
  --color-cursor-ring-border: rgba(150, 150, 150, 0.4);
  --color-cursor-locked-bg: rgba(255, 255, 255, 0.1);
  --color-cursor-locked-border: rgba(255, 255, 255, 0.5);
  --shadow-cursor-ring: 0 3px 10px rgba(0,0,0,0.08);
  --shadow-cursor-locked: 0 6px 18px rgba(0,0,0,0.12);
  --size-cursor-dot: 8px; --size-cursor-ring: 40px;
}

/* --- DARK THEME OVERRIDES --- */
:root.dark-theme {
  --color-bg: hsl(var(--n-h), 15%, 6%);

  /* --- SECTION BACKGROUND VARIANTS (Dark Mode) --- */
  --bg-sect-1: hsl(var(--n-h), 15%, 8%);
  --bg-sect-2: hsl(var(--n-h), 15%, 5%);
  --bg-sect-3: hsl(var(--n-h), 15%, 8%);
  --bg-sect-4: hsl(var(--n-h), 15%, 11%);

  --color-surface: hsl(var(--n-h), 15%, 10%);
  --about-bg: var(--bg-sect-1);
  --about-card-bg: hsl(var(--n-h), 15%, 13%);
  --color-text: hsl(var(--n-h), 20%, 95%);
  --about-text-muted: hsl(var(--n-h), 10%, 65%);
  --color-border: hsla(var(--n-h), 10%, 80%, 0.15);
  --color-btn-bg: hsl(var(--p-h), var(--p-s), 50%);

  /* Dark mode buttons usually need dark text because the button bg is bright */
  --color-btn-text: hsl(var(--n-h), 15%, 5%);

  --color-shadow-nav: hsla(var(--p-h), 30%, 50%, 0.28);
  --color-shadow-mobile: rgba(0, 0, 0, 0.5);
  --shadow-btn: 0 4px 12px hsla(var(--p-h), 50%, 50%, 0.2);
  --about-shadow-card: 0 8px 32px rgba(0, 0, 0, 0.5);
  --about-status-dot: hsl(var(--t-h), 80%, 60%);
  --ring-color-bg: hsla(var(--p-h), 30%, 80%, 0.1);
  --ring-color-border: hsla(var(--p-h), 30%, 80%, 0.3);
  --color-scrollbar-thumb: hsl(var(--n-h), 10%, 30%);
  --color-nav-hover-bg: hsla(var(--n-h), 10%, 80%, 0.15);
  --color-nav-hover-text: #ffffff;
  --color-cursor-dot: hsl(var(--p-h), 80%, 80%);
}

@media (min-width: 768px) {
  :root {
    --font-size-sm: 14px; --font-size-base: 16px; --font-size-md: 18px;
    --font-size-2xl: 32px; --font-size-3xl: 48px;
    --nav-height: 80px;
    --section-padding-block: 96px; --section-padding-inline: 56px;
    --tech-panel-width: 480px; --size-logo: 24px;
  }
}

@media (min-width: 1440px) {
  :root {
    --font-size-base: 18px; --font-size-md: 20px; --container-max: 1400px;
  }
}

/* ==========================================================
   2. Base Setup
   ========================================================== */
*, *::before, *::after { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
html { scroll-behavior: smooth; scrollbar-width: thin; scrollbar-color: var(--color-scrollbar-thumb) var(--color-scrollbar-track); font-size: 100%; }
body {
  margin: 0; font-family: var(--font-primary); font-size: var(--font-size-base);
  line-height: var(--line-height-base); font-weight: var(--font-weight-regular);
  background: var(--color-bg); color: var(--color-text);
  overflow-x: hidden; transition: background var(--duration-slow) var(--ease-default), color var(--duration-slow) var(--ease-default);
  position: relative; display: flex; flex-direction: column; min-height: 100vh;
}
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: var(--color-scrollbar-track); }
::-webkit-scrollbar-thumb { background-color: var(--color-scrollbar-thumb); border-radius: var(--radius-pill); border: 2px solid var(--color-bg); }
::-webkit-scrollbar-thumb:hover { background-color: var(--color-text); }

/* ==========================================================
   3. Navbar
   ========================================================== */
.navbar { position: fixed; top: 0; left: 0; right: 0; z-index: var(--z-navbar); display: grid; grid-template-columns: auto 1fr auto; align-items: center; padding: 0 var(--space-24); background: transparent; pointer-events: none; height: var(--nav-height); }
.navbar::before { content: ""; position: fixed; top: 0; left: 0; width: 100vw; height: var(--nav-height); backdrop-filter: var(--blur-lg); -webkit-backdrop-filter: var(--blur-lg); mask-image: var(--backdrop-mask); -webkit-mask-image: var(--backdrop-mask); pointer-events: none; z-index: var(--z-negative); }
.navbar__logo { justify-self: start; display: flex; align-items: center; text-decoration: none; pointer-events: auto; transition: transform var(--duration-fast) var(--ease-default); }
.navbar__logo:active { transform: scale(0.95); }
.navbar__logo-img { width: auto; height: var(--size-logo); display: block; }
.navbar__center-group { justify-self: center; display: flex; align-items: center; gap: var(--space-16); pointer-events: none; }
.navbar__menu { display: inline-flex; align-items: center; justify-content: center; gap: var(--space-4); height: 48px; padding: 0 var(--space-8); pointer-events: auto; background: color-mix(in srgb, var(--color-surface), transparent 40%); backdrop-filter: blur(20px) saturate(160%); -webkit-backdrop-filter: blur(20px) saturate(160%); border: 1px solid var(--color-border); border-radius: var(--radius-pill); transition: background var(--duration-slow) var(--ease-default), border-color var(--duration-slow) var(--ease-default); }
.navbar__menu a { position: relative; text-decoration: none; color: var(--color-text); font-size: var(--font-size-sm); font-weight: var(--font-weight-med); padding: var(--space-8) var(--space-16); border-radius: var(--radius-pill); background: transparent; border: none; backdrop-filter: none; transition: all var(--duration-fast) var(--ease-default); z-index: 1; }
.navbar__menu a.is-active { background-color: hsla(var(--p-h), var(--p-s), 50%, 0.12); color: var(--color-btn-bg); font-weight: var(--font-weight-bold); }
@media (hover: hover) { .navbar__menu a:hover { background-color: hsla(var(--p-h), var(--p-s), 50%, 0.12); color: var(--color-btn-bg); font-weight: var(--font-weight-bold); } }
.navbar__theme-toggle { width: 40px; height: 40px; display: inline-flex; align-items: center; justify-content: center; cursor: pointer; pointer-events: auto; border-radius: var(--radius-pill); background: var(--color-surface); border: 1px solid var(--color-border); color: var(--color-text); box-shadow: 0 var(--space-6) var(--space-32) var(--color-glow); transition: all var(--duration-med) var(--ease-default); }
.navbar__theme-toggle:hover { background: var(--color-nav-hover-bg); color: var(--color-nav-hover-text); transform: translateY(-2px); }
.navbar__theme-toggle i { width: 20px; height: 20px; }
.navbar__cta { display: inline-flex; align-items: center; justify-content: center; padding: var(--space-8) var(--space-24); font-size: var(--font-size-sm); font-weight: var(--font-weight-bold); border-radius: var(--radius-pill); text-decoration: none; pointer-events: auto; position: relative; overflow: hidden; transition: all var(--duration-fast) var(--ease-default); background: var(--color-btn-bg); color: var(--color-btn-text); border: 1px solid var(--color-btn-bg); }
@media (hover: hover) { .navbar__cta:hover { background: var(--btn-hover-bg); transform: scale(var(--btn-hover-scale)); box-shadow: var(--btn-hover-shadow); color: var(--color-btn-text); border-color: transparent; } }
.navbar__cta:active { background: var(--btn-active-bg); transform: scale(var(--btn-active-scale)); box-shadow: var(--btn-active-shadow); border-color: transparent; }
.navbar__mobile-toggle { display: none; }

/* ==========================================================
   4. Footer & Floating Buttons
   ========================================================== */
.footer { position: relative; width: 100%; margin-top: auto; background: color-mix(in srgb, var(--color-surface), transparent 10%); border-top: 1px solid var(--color-border); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); padding: 24px 0; z-index: var(--z-footer); }
.footer__layout { display: flex; align-items: center; justify-content: space-between; gap: var(--space-16); }
.footer__copy { margin: 0; font-size: var(--font-size-sm); color: var(--color-text); opacity: 0.7; font-weight: var(--font-weight-med); }
.opacity-50 { opacity: 0.5; }
.tech-pill { display: inline-flex; align-items: center; gap: 8px; padding: 6px 14px; border-radius: var(--radius-pill); background: hsla(var(--p-h), var(--p-s), 50%, 0.05); border: 1px solid hsla(var(--p-h), var(--p-s), 50%, 0.15); font-size: 11px; font-weight: var(--font-weight-bold); text-transform: uppercase; letter-spacing: 0.5px; color: var(--color-text); transition: all 0.3s ease; cursor: default; }
.tech-pill:hover { background: hsla(var(--p-h), var(--p-s), 50%, 0.08); border-color: hsla(var(--p-h), var(--p-s), 50%, 0.3); box-shadow: 0 2px 8px hsla(var(--p-h), var(--p-s), 50%, 0.08); transform: translateY(-1px); }
.tech-pill i { width: 14px; height: 14px; color: hsl(var(--p-h), var(--p-s), 50%); stroke-width: 2.5px; }
@media (max-width: 600px) { .footer__layout { flex-direction: column; gap: 16px; text-align: center; } }
.floating-palette-btn { position: fixed; right: var(--space-24); bottom: 80px; width: 44px; height: 44px; display: inline-flex; align-items: center; justify-content: center; color: var(--color-text); background: var(--color-surface); border: 1px solid var(--color-border); border-radius: var(--radius-pill); box-shadow: 0 4px 12px var(--color-shadow-mobile); cursor: pointer; z-index: var(--z-back-to-top); backdrop-filter: var(--blur-md); -webkit-backdrop-filter: var(--blur-md); transition: all var(--duration-med) var(--ease-default); }
.floating-palette-btn:hover { transform: scale(1.1) rotate(15deg); background: var(--color-btn-bg); color: var(--color-btn-text); box-shadow: 0 8px 20px var(--color-shadow-nav); border-color: transparent; }
.floating-palette-btn i { width: 20px; height: 20px; }
.to-top { position: fixed; right: var(--space-24); bottom: var(--space-24); width: 44px; height: 44px; display: inline-flex; align-items: center; justify-content: center; color: var(--color-text); background: var(--color-surface); border: 1px solid var(--color-border); border-radius: var(--radius-pill); box-shadow: 0 4px 12px var(--color-shadow-mobile); cursor: pointer; opacity: 0; pointer-events: none; transform: translateY(10px); backdrop-filter: var(--blur-md); -webkit-backdrop-filter: var(--blur-md); transition: all var(--duration-med) var(--ease-default); z-index: var(--z-back-to-top); }
.to-top--visible { opacity: 1; pointer-events: auto; transform: translateY(0); }
.to-top:hover { background: var(--color-btn-bg); color: var(--color-btn-text); transform: translateY(-4px); box-shadow: 0 8px 20px var(--color-shadow-nav); }

/* ==========================================================
   5. Toasts
   ========================================================== */
.toast-container { position: fixed; bottom: var(--space-24); right: var(--space-24); display: flex; flex-direction: column; gap: var(--space-16); z-index: var(--z-toast); pointer-events: none; }
.toast { pointer-events: auto; display: flex; align-items: center; gap: var(--space-16); padding: 16px 24px; min-width: 300px; max-width: 400px; border-radius: var(--radius-md); background: var(--color-surface); border: 1px solid var(--color-border); backdrop-filter: var(--blur-md); -webkit-backdrop-filter: var(--blur-md); box-shadow: var(--shadow-btn); color: var(--color-text); font-size: var(--font-size-sm); font-weight: var(--font-weight-med); opacity: 0; transform: translateY(20px); animation: toastSlideIn 0.4s var(--bezier-bounce) forwards; transition: opacity 0.3s ease, transform 0.3s ease; }
.toast.is-hiding { opacity: 0; transform: translateY(10px) scale(0.95); pointer-events: none; }
@keyframes toastSlideIn { to { opacity: 1; transform: translateY(0); } }
.toast--info { border-left: 4px solid #3c83f7; } .toast--success { border-left: 4px solid #22c55e; } .toast--error { border-left: 4px solid #ff5f56; } .toast--loading { border-left: 4px solid var(--color-text); }
.toast__icon { display: flex; align-items: center; justify-content: center; } .toast__icon svg { width: 20px; height: 20px; }
.toast--info .toast__icon { color: #3c83f7; } .toast--success .toast__icon { color: #22c55e; } .toast--error .toast__icon { color: #ff5f56; }
.toast__message { flex: 1; line-height: 1.5; }
.toast__close { background: transparent; border: none; color: var(--color-text); opacity: 0.5; cursor: pointer; padding: 4px; display: flex; border-radius: var(--radius-pill); transition: opacity 0.2s, background 0.2s; }
.toast__close:hover { opacity: 1; background: rgba(125, 125, 125, 0.1); }

/* ==========================================================
   6. Preloader, Cursor, Utilities
   ========================================================== */
.site-preloader { position: fixed; inset: 0; z-index: var(--z-preloader); background-color: var(--color-bg); display: flex; align-items: center; justify-content: center; transition: opacity 0.6s ease, visibility 0.6s ease; }
.site-preloader.is-loaded { opacity: 0; visibility: hidden; pointer-events: none; }
.preloader-utils { position: absolute; width: 0; height: 0; pointer-events: none; }
.fluid-loader { --loader-size: 64px; --loader-color: var(--color-text); --loader-speed: 2.6s; --dot-size: 16px; position: relative; display: flex; align-items: center; justify-content: space-between; width: var(--loader-size); height: var(--dot-size); filter: url('#fluid-filter'); }
.fluid-particle { position: absolute; top: calc(50% - var(--dot-size) / 2); left: calc(0px - var(--dot-size) / 2); display: block; height: var(--dot-size); width: var(--dot-size); border-radius: 50%; background-color: var(--loader-color); animation: fluid-stream var(--loader-speed) linear infinite both; transition: background-color 0.3s ease; }
.fluid-particle:nth-child(2) { animation-delay: calc(var(--loader-speed) * -0.2); } .fluid-particle:nth-child(3) { animation-delay: calc(var(--loader-speed) * -0.4); } .fluid-particle:nth-child(4) { animation-delay: calc(var(--loader-speed) * -0.6); } .fluid-particle:nth-child(5) { animation-delay: calc(var(--loader-speed) * -0.8); }
@keyframes fluid-stream { 0%, 100% { transform: translateX(0) scale(0); } 50% { transform: translateX(calc(var(--loader-size) * 0.5)) scale(1); } 99.999% { transform: translateX(calc(var(--loader-size))) scale(0); } }

/* --- CUSTOM CURSOR --- */
.cursor {
  position: fixed; top: 0; left: 0; z-index: var(--z-cursor); pointer-events: none;
  /* Default: HIDDEN (Only show on desktop) */
  display: none;
}
.cursor__dot { position: absolute; top: 0; left: 0; width: var(--size-cursor-dot); height: var(--size-cursor-dot); background-color: var(--color-cursor-dot); border-radius: var(--radius-pill); transform: translate(-50%, -50%); z-index: 2; transition: opacity var(--duration-fast) var(--ease-default); }
.cursor__ring { position: absolute; top: 0; left: 0; width: var(--size-cursor-ring); height: var(--size-cursor-ring); border-radius: var(--radius-pill); background: transparent; border: 1px solid var(--color-cursor-ring-border); box-shadow: var(--shadow-cursor-ring); mix-blend-mode: overlay; backdrop-filter: var(--blur-sm); -webkit-backdrop-filter: var(--blur-sm); z-index: 1; transition: border-radius var(--duration-slow) var(--ease-default), border-color var(--duration-slow) var(--ease-default), backdrop-filter var(--duration-slow) var(--ease-default); will-change: transform, width, height; }
.cursor__ring.is-locked { background: var(--color-cursor-locked-bg); border-color: var(--color-cursor-locked-border); box-shadow: var(--shadow-cursor-locked); backdrop-filter: blur(8px) saturate(160%); -webkit-backdrop-filter: blur(8px) saturate(160%); mix-blend-mode: overlay; }
.cursor:has(.cursor__ring.is-locked) .cursor__dot { opacity: 0; }

/* ONLY SHOW CURSOR ON DESKTOP (Larger than 1024px AND supports hover) */
@media (min-width: 1025px) and (hover: hover) and (pointer: fine) {
  .cursor { display: block; }
}

@keyframes shimmer { 0% { background-position: 0% 50%; } 100% { background-position: 200% 50%; } }
@keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-12px); } }
@keyframes pulse-green { 0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7); } 70% { transform: scale(1); box-shadow: 0 0 0 var(--space-8) rgba(34, 197, 94, 0); } 100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(34, 197, 94, 0); } }
@keyframes spin { 100% { transform: rotate(360deg); } }

/* Button Styles (Existing) */
.btn-main { display: inline-flex; align-items: center; justify-content: center; gap: var(--space-8); padding: var(--space-12) var(--space-16); font-size: var(--font-size-sm); font-weight: var(--font-weight-bold); border-radius: var(--radius-pill); text-decoration: none; cursor: pointer; transition: all var(--duration-fast) var(--ease-default); background: var(--color-btn-bg); color: var(--color-btn-text); border: 1px solid var(--color-btn-bg); box-shadow: var(--shadow-btn); -webkit-tap-highlight-color: transparent; }
@media (hover: hover) { .btn-main:hover { background: var(--btn-hover-bg); transform: scale(var(--btn-hover-scale)); box-shadow: var(--btn-hover-shadow); } }
.btn-main:active { background: var(--btn-active-bg); transform: scale(var(--btn-active-scale)); box-shadow: var(--btn-active-shadow); border-color: transparent; }
.btn-main i, .btn-main svg { width: 18px; height: 18px; }

.section-title { margin: 0 0 var(--space-32) 0; font-size: clamp(var(--font-size-2xl), 5vw, var(--font-size-3xl)); font-weight: var(--font-weight-heavy); line-height: var(--line-height-tight); color: var(--color-text); }
.section-wrapper { position: relative; width: 100%; padding-block: var(--section-padding-block); min-height: auto; overflow: hidden; }
.container { width: 100%; max-width: var(--container-max); margin-inline: auto; padding-inline: var(--section-padding-inline); }

/* --- REMOVED OLD CURSOR MEDIA QUERY --- */
/* (We handled it above with the new @media block) */
@media (min-width: 768px) { .theme-transition-ripple { position: fixed; top: 0; left: 0; width: 0; height: 0; border-radius: 50%; border: 40px solid hsl(var(--p-h), var(--p-s), var(--p-l)); transform: translate(-50%, -50%); pointer-events: none; z-index: 2147483647; box-shadow: 0 0 40px hsla(var(--p-h), var(--p-s), 50%, 0.5); opacity: 1; } ::view-transition-old(root), ::view-transition-new(root) { animation: none; mix-blend-mode: normal; } ::view-transition-new(root) { z-index: 2147483646; } ::view-transition-group(root) { animation-duration: 0.5s; } }

/* ==========================================================
   7. Hero
   ========================================================== */
.hero { position: relative; display: flex; align-items: center; justify-content: center; width: 100%; height: 100svh; min-height: 100svh; max-height: 100svh; padding-top: var(--nav-height); background-image: radial-gradient(1200px 700px at 10% 20%, var(--color-glow), transparent 60%), radial-gradient(900px 600px at 85% 25%, var(--color-shadow-nav), transparent 60%); background-repeat: no-repeat; transition: background var(--duration-slow) var(--ease-default); overflow: hidden; }
.hero__grid { width: 100%; max-width: var(--container-max); height: 100%; margin: 0 auto; padding-inline: var(--section-padding-inline); display: grid; grid-template-columns: repeat(auto-fit, minmax(360px, 1fr)); gap: var(--space-32); align-content: center; align-items: center; justify-items: center; }
.hero__text { display: flex; flex-direction: column; gap: var(--space-16); padding: var(--space-16); max-width: 600px; justify-self: center; text-align: left; z-index: 2; }
.hero__title { margin: 0; line-height: 1.1; letter-spacing: -0.02em; font-weight: var(--font-weight-heavy); font-size: clamp(32px, 5vw, 64px); color: var(--color-text); }
.hero__hi { display: block; font-size: clamp(24px, 4vw, 40px); opacity: 1; font-weight: var(--font-weight-heavy); margin-bottom: var(--space-8); text-transform: none; letter-spacing: -0.01em; }
.hero__name { display: inline-block; background: none; -webkit-background-clip: unset; -webkit-text-fill-color: initial; color: hsl(var(--s-h), var(--s-s), 55%); animation: none; }
.hero__role { margin: 0; font-size: clamp(18px, 3vw, 24px); font-weight: var(--font-weight-bold); opacity: 0.95; color: var(--color-text); }
.hero__blurb { margin: var(--space-8) 0 0 0; max-width: 50ch; font-size: var(--font-size-base); line-height: var(--line-height-base); opacity: 0.85; text-wrap: balance; }
.hero__cta { margin-top: var(--space-24); display: flex; gap: var(--space-16); }
.hero__avatar { position: relative; width: clamp(260px, 40vw, 400px); aspect-ratio: 1 / 1; margin-inline: auto; border-radius: var(--radius-pill); display: grid; place-items: center; isolation: isolate; animation: float 6s ease-in-out infinite; justify-self: center; }
.hero__avatar img { width: 80%; height: 80%; object-fit: cover; border-radius: var(--radius-pill); position: relative; z-index: 2; background: var(--color-surface); }
.hero__ring--outer { position: absolute; inset: 0; border-radius: var(--radius-pill); background: radial-gradient(circle at 50% 50%, var(--ring-color-bg), transparent 70%); border: 8px solid var(--ring-color-border); filter: drop-shadow(0 10px 28px var(--color-glow)); z-index: 1; opacity: 0.1; }

/* ==========================================================
   8. About Section
   ========================================================== */
.about-section {
  position: relative; width: 100%; min-height: auto;
  padding-block: var(--section-padding-block);
  background-color: var(--bg-sect-1);
  transition: background-color var(--duration-slow) var(--ease-default); overflow: hidden;
}
.bg-pattern { position: absolute; inset: 0; background-image: radial-gradient(var(--about-text-muted) 1px, transparent 1px); background-size: 40px 40px; opacity: 0.07; pointer-events: none; }
.about__grid-layout { width: 100%; max-width: var(--container-max); margin-inline: auto; padding-inline: var(--section-padding-inline); display: grid; grid-template-columns: 1fr 1fr; align-items: center; gap: var(--space-64); position: relative; z-index: 2; }
.about__content { display: flex; flex-direction: column; gap: var(--space-24); }
.about__story { font-size: var(--font-size-base); line-height: var(--line-height-base); color: var(--color-text); text-wrap: pretty; opacity: 0.9; }
.about__story strong { color: var(--color-text); font-weight: var(--font-weight-bold); }
.about__actions { display: flex; align-items: center; gap: var(--space-24); margin-top: var(--space-12); }
.status-indicator { display: flex; align-items: center; gap: var(--space-8); font-weight: var(--font-weight-bold); font-size: var(--font-size-sm); color: var(--color-text); }
.status-dot { width: var(--space-8); height: var(--space-8); background-color: var(--about-status-dot); border-radius: var(--radius-pill); box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7); }
.status-dot.pulse { animation: pulse-green 2s infinite; }
.about__visual { display: flex; justify-content: center; position: relative; }
.stack-wrapper { display: flex; flex-direction: column; gap: var(--space-16); width: 100%; max-width: var(--tech-panel-width); }
.stack-label { font-family: var(--font-mono); font-size: var(--font-size-sm); color: var(--about-text-muted); font-weight: var(--font-weight-med); padding-left: var(--space-4); opacity: 0.8; }
.comment-syntax { color: var(--about-text-muted); }
.tech-glass-panel { width: 100%; margin: 0; position: relative; background: color-mix(in oklab, var(--about-card-bg) 6%, transparent); border: 1px solid var(--color-border); border-radius: var(--radius-md); backdrop-filter: var(--blur-md); -webkit-backdrop-filter: var(--blur-md); box-shadow: var(--about-shadow-card); overflow: hidden; transition: transform var(--duration-slow) var(--ease-default); }
.tech-header { display: flex; align-items: center; padding: var(--space-16); border-bottom: 1px solid var(--color-border); background: rgba(255, 255, 255, 0.02); }
.tech-header .dot { width: var(--space-8); height: var(--space-8); border-radius: var(--radius-pill); margin-right: var(--space-8); }
.dot.red { background: #ff5f56; } .dot.yellow { background: #ffbd2e; } .dot.green { background: #27c93f; }
.tech-title { margin-left: auto; font-size: var(--font-size-xs); font-family: var(--font-mono); opacity: 0.5; color: var(--color-text); }
.tech-grid { padding: var(--space-24); display: grid; grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); gap: var(--space-16); }
.tech-item { display: flex; flex-direction: column; align-items: center; gap: var(--space-8); padding: var(--space-16) var(--space-8); border-radius: var(--radius-md); transition: transform var(--duration-fast) var(--ease-default), background var(--duration-fast) var(--ease-default); cursor: default; }
.tech-item:hover { transform: translateY(-5px); background: color-mix(in oklab, var(--about-card-bg) 80%, transparent); box-shadow: 0 4px 12px var(--color-shadow-mobile); }
.tech-item i { font-size: 32px; transition: transform var(--duration-slow) var(--ease-default); color: var(--color-text); }
:root.dark-theme .tech-item i[class*="flask"], :root.dark-theme .tech-item i[class*="nextjs"] { filter: invert(1); }
.tech-item:hover i { transform: scale(1.1); }
.tech-item span { font-size: var(--font-size-xs); font-weight: var(--font-weight-med); color: var(--color-text); opacity: 0.9; }

/* ==========================================================
   9. Projects Section
   ========================================================== */
.projects-section {
  background-color: var(--bg-sect-2);
}
.section-header { text-align: center; margin-bottom: var(--space-64); max-width: 800px; margin-inline: auto; }
.section-subtitle { font-size: var(--font-size-base); color: var(--color-text); opacity: 0.8; line-height: 1.6; }
.projects-stack { display: flex; flex-direction: column; gap: var(--space-96); }
.project-card { display: grid; grid-template-columns: 1.2fr 1fr; gap: var(--space-48); align-items: center; }
.media-inner { display: block; text-decoration: none; background: var(--color-surface); border: 1px solid var(--color-border); border-radius: var(--radius-card); padding: var(--space-24) var(--space-24) 0; overflow: hidden; transition: transform var(--duration-med) var(--ease-default), border-color var(--duration-med); box-shadow: var(--shadow-btn); position: relative; }
.media-inner:hover { transform: translateY(-8px);}
.media-hook { display: flex; justify-content: space-between; margin-bottom: var(--space-16); font-size: var(--font-size-xs); font-weight: var(--font-weight-bold); color: var(--color-text); opacity: 0.9; }
.hook-arrow { width: 16px; height: 16px; transition: transform var(--duration-fast); }
.media-inner:hover .hook-arrow { transform: translate(2px, -2px) rotate(45deg); }
.media-image-container { aspect-ratio: 16 / 9; background-color: var(--color-border); border-radius: var(--radius-sm) var(--radius-sm) 0 0; overflow: hidden; box-shadow: 0 -10px 30px rgba(0, 0, 0, 0.1); transform: translateY(4px); transition: transform var(--duration-slow); }
.media-image-container img { width: 100%; height: 100%; object-fit: cover; display: block; }
.media-inner:hover .media-image-container { transform: translateY(0); }
.project-title { font-size: var(--font-size-2xl); font-weight: var(--font-weight-bold); margin: 0 0 var(--space-16) 0; color: var(--color-text); }
.project-desc { font-size: var(--font-size-base); line-height: var(--line-height-base); color: var(--color-text); opacity: 0.85; margin-bottom: var(--space-24); }
.project-highlights { list-style: none; padding: 0; margin: 0 0 var(--space-24) 0; display: flex; flex-direction: column; gap: var(--space-8); }
.project-highlights li { display: flex; align-items: flex-start; gap: var(--space-12); font-size: var(--font-size-sm); opacity: 0.9; }
.project-highlights .bullet-icon { width: 16px; height: 16px; min-width: 16px; flex-shrink: 0; color: var(--about-status-dot); margin-top: 3px; }
.project-tags { display: flex; flex-wrap: wrap; gap: var(--space-8); margin-bottom: var(--space-32); }
.tech-badge { font-size: var(--font-size-xs); font-weight: var(--font-weight-bold); text-transform: uppercase; letter-spacing: 0.5px; padding: 6px 12px; border-radius: var(--radius-pill); background: color-mix(in srgb, var(--color-text) 8%, transparent); color: var(--color-text); }
.project-actions { display: flex; gap: var(--space-12); }
.section-footer { text-align: center; margin-top: var(--space-64); }
.link-archive { font-size: var(--font-size-sm); font-weight: var(--font-weight-bold); text-transform: uppercase; letter-spacing: 1px; color: var(--color-text); text-decoration: none; border-bottom: 1px solid transparent; padding-bottom: 2px; transition: border-color var(--duration-fast); }
.link-archive:hover { border-color: var(--color-text); }

/* ==========================================================
   10. Awards & Contact Sections
   ========================================================== */
.awards-section {
    background-color: var(--bg-sect-3);
    position: relative; width: 100%; padding-block: var(--section-padding-block);
    transition: background-color var(--duration-slow) var(--ease-default);
}
.awards-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--space-24); }
.award-card { background: var(--color-surface); border: 1px solid var(--color-border); border-radius: var(--radius-card); padding: var(--space-32); display: flex; flex-direction: column; gap: var(--space-16); backdrop-filter: var(--blur-md); -webkit-backdrop-filter: var(--blur-md); transition: transform var(--duration-med) var(--ease-default), border-color var(--duration-med) var(--ease-default), box-shadow var(--duration-med) var(--ease-default); }
.award-card:hover { transform: translateY(-6px); border-color: hsla(var(--p-h), var(--p-s), 60%, 0.3); box-shadow: 0 12px 32px -8px hsla(var(--p-h), var(--p-s), 50%, 0.15); }
.award-card__icon { width: 48px; height: 48px; display: grid; place-items: center; border-radius: var(--radius-pill); background: hsla(var(--p-h), var(--p-s), 50%, 0.08); color: hsl(var(--p-h), var(--p-s), 40%); transition: all var(--duration-med) var(--bezier-bounce); }
.award-card:hover .award-card__icon { background: hsl(var(--p-h), var(--p-s), 55%); color: #ffffff; transform: scale(1.1) rotate(-10deg); box-shadow: 0 4px 12px hsla(var(--p-h), var(--p-s), 50%, 0.3); }
.award-card__title { margin: 0; font-size: var(--font-size-lg); font-weight: var(--font-weight-bold); }
.award-card__desc { margin: 0; font-size: var(--font-size-sm); line-height: var(--line-height-base); opacity: 0.8; flex-grow: 1; }
.award-card__meta { display: flex; flex-wrap: wrap; gap: var(--space-8); margin-top: var(--space-8); }
.meta-pill { font-size: var(--font-size-xs); font-weight: var(--font-weight-bold); padding: 4px 12px; border: 1px solid var(--color-border); border-radius: var(--radius-pill); opacity: 0.7; color: var(--color-text); transition: all 0.2s ease; }
.award-card:hover .meta-pill { border-color: hsla(var(--s-h), var(--s-s), 60%, 0.4); color: hsl(var(--s-h), var(--s-s), 50%); background: hsla(var(--s-h), var(--s-s), 60%, 0.05); opacity: 1; }

.contact-section {
    background-color: var(--bg-sect-4);
}
.contact-layout { display: grid; grid-template-columns: 1fr 1.2fr; gap: var(--space-64); align-items: center; }
.contact-info { display: flex; flex-direction: column; gap: var(--space-24); }
.contact-subtitle { font-size: var(--font-size-base); line-height: var(--line-height-base); opacity: 0.8; max-width: 400px; }
.contact-links { display: flex; flex-wrap: wrap; gap: var(--space-12); }
.contact-chip { display: inline-flex; align-items: center; gap: var(--space-8); padding: 12px 24px; border-radius: var(--radius-pill); background: var(--color-surface); border: 1px solid var(--color-border); color: var(--color-text); text-decoration: none; font-size: var(--font-size-sm); font-weight: var(--font-weight-med); transition: all var(--duration-fast); }
.contact-chip:hover { background: var(--color-text); color: var(--color-bg); transform: translateY(-2px); }
.contact-chip i { width: 16px; height: 16px; }
.contact-form-wrapper { background: var(--color-surface); border: 1px solid var(--color-border); border-radius: var(--radius-card); padding: var(--space-40); backdrop-filter: var(--blur-md); box-shadow: var(--shadow-btn); }
.contact-form { display: flex; flex-direction: column; gap: var(--space-24); }
.form-row { display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-16); }
.form-field { position: relative; }
.form-field input, .form-field textarea { width: 100%; padding: var(--space-16); font-family: var(--font-primary); font-size: var(--font-size-base); background: color-mix(in srgb, var(--color-bg) 50%, transparent); border: 1px solid var(--color-border); border-radius: var(--radius-md); color: var(--color-text); outline: none; transition: border-color var(--duration-fast), box-shadow var(--duration-fast); }
.form-field textarea { min-height: 144px; resize: none; }
.form-field label { position: absolute; top: 50%; left: 16px; transform: translateY(-50%); font-size: var(--font-size-base); color: var(--color-text); opacity: 0.6; pointer-events: none; transition: all var(--duration-fast); }
.form-field textarea + label { top: 20px; transform: none; }
.form-field input:focus + label, .form-field input:not(:placeholder-shown) + label, .form-field textarea:focus + label, .form-field textarea:not(:placeholder-shown) + label { top: -10px; left: 12px; font-size: 12px; font-weight: var(--font-weight-bold); opacity: 1; background: var(--color-bg); padding: 0 6px; border-radius: 4px; }
.form-field input:focus, .form-field textarea:focus { border-color: var(--color-text); box-shadow: 0 0 0 4px var(--color-glow); }

/* ==========================================================
   11. Theme Picker Modal
   ========================================================== */
.theme-modal { border: none; border-radius: var(--radius-card); padding: 0; background: var(--color-surface); color: var(--color-text); box-shadow: var(--about-shadow-card); max-width: 480px; width: 90%; margin: auto; z-index: 20000; animation: modal-pop 0.3s cubic-bezier(0.34, 1.56, 0.64, 1); }
.theme-modal::backdrop { background: rgba(0, 0, 0, 0.4); backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px); }
.theme-modal__content { padding: var(--space-24); }

.theme-modal__header { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-8); }
.theme-modal__header h3 { margin: 0; font-size: var(--font-size-lg); font-weight: var(--font-weight-bold); }

/* --- NEW CLOSE BUTTON STYLE --- */
#close-theme-modal {
  background: transparent;
  border: none;
  cursor: pointer;
  padding: 8px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--color-text);
  opacity: 0.6;
  transition: all 0.2s ease;
}
#close-theme-modal:hover {
  background-color: hsla(var(--n-h), var(--n-s), 50%, 0.1);
  opacity: 1;
  transform: rotate(90deg);
}
#close-theme-modal i, #close-theme-modal svg {
  width: 20px;
  height: 20px;
  stroke-width: 2.5px;
}
/* ----------------------------- */

.theme-modal__desc { margin: 0 0 var(--space-24) 0; font-size: var(--font-size-sm); opacity: 0.7; }
.palette-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: var(--space-16); margin-bottom: var(--space-24); }
.palette-card { border: none; background: transparent; padding: 0; cursor: pointer; border-radius: var(--radius-md); overflow: hidden; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); transition: transform 0.2s var(--ease-default), box-shadow 0.2s; }
.palette-card:hover { transform: translateY(-4px); box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15); }
.palette-card.is-active-palette {

  box-shadow:
    0 0 0 4px var(--color-surface),
    0 0 0 6px var(--color-text),
    0 8px 16px rgba(0,0,0,0.1);

  transform: scale(0.96);
}
.palette-preview { height: 100px; width: 100%; display: flex; flex-direction: column; }
.palette-preview div { width: 100%; height: 25%; }
.theme-modal__footer { display: flex; justify-content: center; }
.theme-modal__footer button { display: flex; align-items: center; gap: 8px; background: none; border: none; font-weight: var(--font-weight-bold); font-size: var(--font-size-sm); color: hsl(var(--p-h), var(--p-s), 50%); cursor: pointer; padding: 8px 16px; border-radius: var(--radius-pill); transition: background 0.2s; }
.theme-modal__footer button:hover { background: hsla(var(--p-h), var(--p-s), 50%, 0.1); }
.theme-modal__footer button i { width: 16px; height: 16px; }
@keyframes modal-pop { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }

/* ==========================================================
   12. Responsive Overrides
   ========================================================== */
@media (min-width: 1024px) { .hero { height: 100svh; padding-top: var(--nav-height); padding-bottom: 0; } .about-section, .section-wrapper, .section-container:not(.hero) { min-height: 100vh; display: flex; flex-direction: column; justify-content: center; } .hero__grid { grid-template-columns: repeat(auto-fit, minmax(360px, 1fr)); } }
@media (max-width: 1024px) { .cursor { display: none !important; } *:not(.fluid-particle, .spin-anim), *::before:not(.fluid-particle, .spin-anim), *::after:not(.fluid-particle, .spin-anim) { animation: none !important; transition: none !important; } .navbar__menu, .navbar__menu.is-open { transition: transform 0.3s ease, opacity 0.3s ease !important; } .reveal-up, .reveal-in, .reveal-from-left, .reveal-from-right { opacity: 1 !important; transform: none !important; } .navbar__theme-toggle:hover, .tech-item:hover, .media-inner:hover, .tech-glass-panel:hover, .contact-chip:hover, .award-card:hover { transform: none !important; box-shadow: none !important; } .hero { height: 100svh; min-height: 100svh; max-height: 100svh; padding-top: var(--nav-height); padding-bottom: 0; } .hero__grid { grid-template-columns: 1fr; grid-template-rows: auto auto; gap: var(--space-24); align-content: center; } .hero__text { text-align: center; align-items: center; order: 2; padding: 0; } .hero__avatar { order: 1; width: clamp(200px, 35vh, 320px); margin-bottom: var(--space-12); } .hero__blurb { margin-inline: auto; } .hero__cta { justify-content: center; } .about__grid-layout { grid-template-columns: 1fr; gap: var(--space-48); } .about__content { text-align: center; } .about__actions { justify-content: center; } .tech-glass-panel { margin: 0 auto; } }
@media (max-width: 768px) { .navbar { grid-template-columns: 1fr auto 1fr; padding: 0 var(--space-16); } .navbar__logo { justify-self: start; } .navbar__center-group { justify-self: center; gap: var(--space-8); } .navbar__cta { justify-self: end; padding: 10px 16px; font-size: var(--font-size-xs); } .navbar__mobile-toggle { display: inline-flex; align-items: center; justify-content: center; height: 40px; padding: 0 var(--space-24); font-size: var(--font-size-xs); font-weight: var(--font-weight-heavy); letter-spacing: 0.5px; border-radius: var(--radius-pill); cursor: pointer; pointer-events: auto; background: var(--color-surface); border: 1px solid var(--color-border); color: var(--color-text); backdrop-filter: var(--blur-md); -webkit-backdrop-filter: var(--blur-md); } .navbar__menu { position: absolute; top: calc(100% + var(--space-12)); left: 50%; transform: translateX(-50%) translateY(-10px); flex-direction: column; width: 90%; max-width: 360px; height: auto; padding: var(--space-8); gap: var(--space-4); border-radius: var(--radius-card); opacity: 0; visibility: hidden; pointer-events: none; transition: opacity var(--duration-slow) var(--ease-default), transform var(--duration-slow) var(--bezier-bounce), visibility var(--duration-slow); box-shadow: 0 10px 40px -10px var(--color-shadow-mobile); } .navbar__menu.is-open { opacity: 1; visibility: visible; pointer-events: auto; transform: translateX(-50%) translateY(0); } .navbar__menu a { width: 100%; text-align: center; padding: var(--space-12); } .project-card { grid-template-columns: 1fr; gap: var(--space-24); } .contact-layout { grid-template-columns: 1fr; } .form-row { grid-template-columns: 1fr; } .contact-form-wrapper { padding: var(--space-24); } }
@media (max-width: 480px) { .hero { height: 100svh; min-height: 100svh; max-height: 100svh; padding-top: var(--nav-height); padding-bottom: 0; } .hero__grid { align-content: center; gap: var(--space-16); } .hero__title { font-size: 32px; } .hero__role { font-size: var(--font-size-md); } .hero__avatar { width: clamp(160px, 30vh, 240px); } .hero__blurb { font-size: var(--font-size-sm); display: -webkit-box; -webkit-line-clamp: 4; -webkit-box-orient: vertical; overflow: hidden; } .tech-grid { grid-template-columns: repeat(3, 1fr); gap: var(--space-8); } .tech-item i { font-size: 24px; } .tech-item span { font-size: 10px; } }
@media (max-height: 700px) and (min-width: 600px) { .hero { height: auto; min-height: 100svh; overflow: visible; padding-bottom: var(--space-32); } .hero__grid { grid-template-columns: 1fr 1fr; grid-template-rows: auto; text-align: left; } .hero__text { order: 1; text-align: left; align-items: flex-start; } .hero__avatar { order: 2; width: 200px; } .hero__cta { justify-content: flex-start; } }
