{% extends 'base.html' %}

{% block title %}{{ data.hero.name }} | {{ data.hero.role }}{% endblock %}

{% block navbar %}
  {% include 'navbar.html' %}
{% endblock %}

{% block meta %}
  <meta name="description" content="{{ data.hero.name }} — {{ data.hero.role }}" />
  <meta property="og:title" content="{{ data.hero.name }} - Developer Portfolio" />
  <meta property="og:description" content="{{ data.hero.blurb }}" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="{{ data.hero.avatar_image }}" />
{% endblock %}

{% block content %}
<div class="main-container">

  {# ==============================
     Section: Hero
  ============================== #}
  <section id="main" class="section-container hero">
    <div class="hero__grid">
      <div class="hero__text">
        <h1 class="hero__title">
          <span class="hero__hi">{{ data.hero.hi_text }}</span>
          <span class="hero__name">{{ data.hero.name }}</span>
        </h1>

        <p class="hero__role">{{ data.hero.role }}</p>

        <p class="hero__blurb">
          {{ data.hero.blurb }}
        </p>

        <div class="hero__cta">
          <a class="btn-main" href="#contact" aria-label="Go to contact">
            <i data-lucide="mail" aria-hidden="true"></i>
            <span>Get in touch</span>
          </a>
        </div>
      </div>

      <div class="hero__avatar">
        <span class="hero__ring hero__ring--outer"></span>
        <img
          src="{{ data.hero.avatar_image or url_for('portfolio.static', filename='images/hero-portrait-muthu.jpg') }}"
          alt="Portrait of {{ data.hero.name }}"
          width="640" height="640" decoding="async" loading="eager">
        <span class="hero__dot" aria-hidden="true"></span>
      </div>
    </div>
  </section>

  {# ==============================
     Section: About
  ============================== #}
  <section id="about" class="section-container about-section">
    <div class="bg-pattern"></div>
    <div class="about__grid-layout">

      <div class="about__content">
        <h2 class="section-title">{{ data.about.title }}</h2>

        <p class="about__story">
          {{ data.about.content | safe }}
        </p>

        <div class="about__actions">
          <a href="{{ url_for('portfolio.download_resume') }}" class="btn-main" target="_blank" rel="noopener">
            <i data-lucide="file-text"></i>
            <span>Resume</span>
          </a>
          <div class="status-indicator">
            <span class="status-dot pulse"></span>
            {{ data.about.status }}
          </div>
        </div>
      </div>

      <div class="about__visual">
        <div class="tech-glass-panel">
          <div class="tech-header">
            <span class="dot red"></span>
            <span class="dot yellow"></span>
            <span class="dot green"></span>
            <span class="tech-title">Tech_Stack.json</span>
          </div>

          <div class="tech-grid">
            {% for tech in data.tech_stack %}
            <div class="tech-item">
              <i class="{{ tech.icon }}" aria-hidden="true"></i>
              <span>{{ tech.name }}</span>
            </div>
            {% endfor %}
          </div>
        </div>
      </div>

    </div>
  </section>

  {# ==============================
     Section: Featured Projects
  ============================== #}
  <section id="projects" class="section-container">
    <div class="projects__header">
      <h2 class="section-title">Featured Projects</h2>
      <p class="section-subtitle">
        A collection of high-impact applications built with Python, Flask, and modern web technologies.
      </p>
    </div>

    <div class="projects-stack">
      {% for p in featured_main %}
      <article class="showcase-item" id="project-{{ p.id | replace(' ', '-') | lower }}">
        <div class="showcase-media">
          <a href="{{ p.live_url or p.code_url or url_for('portfolio.all_projects') }}" target="_blank" class="media-card-inner" rel="noopener">
            {% if p.tagline %}
            <div class="media-hook-wrapper">
              <p class="media-hook">{{ p.tagline }}</p>
              <i data-lucide="arrow-up-right" class="hook-arrow" aria-hidden="true"></i>
            </div>
            {% endif %}
            <div class="media-img-wrapper">
              <img src="{{ p.image or url_for('portfolio.static', filename='images/project-placeholder-thumb.png') }}"
                   alt="{{ p.title }} Preview" loading="lazy" decoding="async">
            </div>
          </a>
        </div>

        <div class="showcase-content">
          <h3 class="showcase-title">{{ p.title }}</h3>

          <p class="showcase-desc">{{ p.desc }}</p>

          {% if p.highlights %}
          <ul class="showcase-highlights" aria-label="Highlights for {{ p.title }}">
            {% for item in p.highlights %}
            <li><span class="bullet-icon" aria-hidden="true">❖</span>{{ item }}</li>
            {% endfor %}
          </ul>
          {% endif %}

          <div class="showcase-tech" aria-hidden="false">
            {% for t in p.tags %}
            <span class="tech-badge">{{ t }}</span>
            {% endfor %}
          </div>

          <div class="showcase-actions btn-stack" role="group" aria-label="Project actions for {{ p.title }}">
            {% if p.live_url %}
            <a href="{{ p.live_url }}" target="_blank" rel="noopener" class="btn-main btn--small" aria-label="Open live demo of {{ p.title }}">
              <i data-lucide="external-link" aria-hidden="true"></i>
              <span class="sr-only">Live Demo</span>
            </a>
            {% endif %}

            {% if p.code_url %}
            <a href="{{ p.code_url }}" target="_blank" rel="noopener noreferrer" class="btn-main btn--small" aria-label="View source for {{ p.title }} on GitHub">
              <i data-lucide="github" aria-hidden="true"></i>
              <span class="sr-only">View Source</span>
            </a>
            {% endif %}
          </div>
        </div>
      </article>
      {% endfor %}
    </div>

    <div class="projects__footer">
      <a href="{{ url_for('portfolio.all_projects') }}" class="archive-link">
        View Full Project Archive
      </a>
    </div>
  </section>

  {# ==============================
     Section: Achievements
  ============================== #}
  <section id="achievements" class="section-container achievements-section">
    <div class="achievements__header">
      <h2 class="section-title">Achievements</h2>
      <p class="section-description">Highlights that reflect my academic performance and competitive coding participation.</p>
    </div>

    <div class="achievements__grid">
      {% for ach in data.achievements %}
      <article class="ach-card">
        <div class="ach-card__icon"><i data-lucide="{{ ach.icon }}" aria-hidden="true"></i></div>
        <h3 class="ach-card__title">{{ ach.title }}</h3>
        <p class="ach-card__desc">
          {{ ach.description }}
        </p>
        <div class="ach-card__meta">
          {% for meta in ach.meta %}
          <span class="pill">{{ meta }}</span>
          {% endfor %}
        </div>
      </article>
      {% endfor %}
    </div>
  </section>

  {# ==============================
     Section: Contact Form
  ============================== #}
  <section id="contact" class="section-container contact-section">
    <div class="contact__wrapper">
      <aside class="contact__intro">
        <h2 class="contact__title">Let’s Build Something Great</h2>
        <p class="contact__subtitle">
          Open to full-time roles and internships in full-stack development.
          For opportunities and collaborations, reach out below.
        </p>

        <nav class="contact__channels">
          <a class="contact__chip" href="mailto:muthu17@gmail.com" rel="noopener">
            <i data-lucide="mail" aria-hidden="true"></i>
            <span>muthu17@gmail.com</span>
          </a>
          <a class="contact__chip" href="https://github.com/" target="_blank" rel="noopener noreferrer">
            <i data-lucide="github" aria-hidden="true"></i>
            <span>GitHub</span>
          </a>
          <a class="contact__chip" href="https://linkedin.com/" target="_blank" rel="noopener noreferrer">
            <i data-lucide="linkedin" aria-hidden="true"></i>
            <span>LinkedIn</span>
          </a>
        </nav>
      </aside>

      <div class="contact__form-card">
        <form class="contact__form" method="POST" action="{{ url_for('portfolio.contact') }}">
          <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

          <div class="field-group">
            <div class="field">
              <input id="name" name="name" type="text" placeholder=" " required autocomplete="name">
              <label for="name">Your Name</label>
            </div>
            <div class="field">
              <input id="email" name="email" type="email" placeholder=" " required autocomplete="email">
              <label for="email">Email</label>
            </div>
          </div>

          <div class="field field--full">
            <textarea id="message" name="message" placeholder=" " required></textarea>
            <label for="message">Message</label>
          </div>

          <button type="submit" class="btn-main">
            <i data-lucide="send" aria-hidden="true"></i>
            <span>Send Message</span>
          </button>
        </form>
      </div>
    </div>
  </section>

</div>
{% endblock %}